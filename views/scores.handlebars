<!DOCTYPE html>
<html lang="en">
<head>
    <title>Chore Hero</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <link href="css/home.css" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

    <script type="text/javascript">
      google.charts.load('current', {'packages':['corechart']});
      google.charts.setOnLoadCallback(drawChart);

      function drawChart() {
        var data = google.visualization.arrayToDataTable([
          ['Week', 'Brian', 'Alia', 'Chris', 'Noah'],
          ['Week 1',  60,  60, 60 , 60],
          ['Week 2',  70,  80, 90, 100],
          ['Week 3',  50,  30, 50,  39],
          ['Week 4',  20,  40, 60, 50]
        ]);

        var options = {
          title: 'Scores by Week',
          curveType: 'function',
          legend: { position: 'bottom' }
        };

        var chart = new google.visualization.LineChart(document.getElementById('curve_chart'));

        chart.draw(data, options);
      }
    </script>

    {{#each users}}
    <script type="text/javascript">
      google.charts.load("current", {packages:["corechart"]});
      google.charts.setOnLoadCallback(drawChart);
      function drawChart() {
        var data = google.visualization.arrayToDataTable([
          ['Score', "Points"],
          ['Score', {{rating}}],
          ['Missing', 100-{{rating}}]
        ]);

        var options = {
          title: '{{firstName}}',
          pieHole: 0.4,
          legend: 'none',
          slices: {
            0: { color: '#00b3b3' },
            1: { color: 'grey' }
          }
        };

        var chart = new google.visualization.PieChart(document.getElementById('{{firstName}}'));
        chart.draw(data, options);
      }
    </script>
    {{/each}}

</head>
<body>
<nav class="navbar navbar-inverse">
    <div class="row">
        <div class="col-xs-2 col-md-1">
            <div class="navbar-header">
                <button style="font-size: 250%;" class="btn-transparent btn-default dropdown-toggle" type="button" data-toggle="dropdown">
                    <span class="glyphicon glyphicon-menu-hamburger"></span>
                </button>
                <ul class="dropdown-menu">
                    <li><a href="/home"><span class="glyphicon glyphicon-home"></span>&nbsp; My Chores</a></li>
                    <li><a href="/roommate_chores"><span class="glyphicon glyphicon-user"></span>&nbsp; Roommates' Chores</a></li>
                    <li><a href="/scores"><span class="glyphicon glyphicon-stats"></span>&nbsp; Scores</a></li>
                    <li><a href="/preferences"><span class="glyphicon glyphicon-heart"></span>&nbsp; Preferences</a></li>
                    <li><a href="/settings"><span class="glyphicon glyphicon-wrench"></span>&nbsp; Settings</a></li>
                    <li>
                        <form id="logout" method="post" action="/logout">
                            <button type="submit" class="btn btn-default" id="logout-button" form="logout">Log Out</button>
                        </form>
                    </li>
                </ul>
            </div>
        </div>
        <div class="col-xs-3 col-md-6">
            <h1 id="app-name">Chore Hero</h1>
        </div>
        <div class="col-xs-3 col-md-1 pull-right">
            {{#each users}}
            {{#if @first}}
            <div class="well" id="score-label">
                {{rating}}
            </div>
        </div>
        <div class="col-xs-4 col-md-4 pull-right">
            <div class="progress">             
                <div class="progress-bar" id="score-bar" role="progressbar" aria-valuenow="{{rating}}"
              aria-valuemin="0" aria-valuemax="100" style="width:{{rating}}%">
              {{/if}}
              {{/each}}
                </div>
            </div>
        </div>
    </div>
</nav>

<h1 class="text-center">Scores</h1>
    <div class="row">
        <div class="col-xs-12 col-md-10 col-md-offset-1"><hr>
        </div>
    </div>

{{#each users}}
{{#if @first}}
<div id="{{firstName}}" style="width: 900px; height: 500px; margin: auto"></div>
<div>
{{else}}
    <div id="{{firstName}}" class="pie_child" style="width: 450px; height: 250px"></div>
{{/if}}
</div>
{{/each}}


<div id="curve_chart" style="margin: auto"></div>




<!--
<footer class="container-fluid text-center">
    <p>Footer Text</p>
</footer>
-->

</body>
</html>